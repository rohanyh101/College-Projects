# Path Planning for Autonomous Race car

In basic terms,Path Planning means developing an optimal racing line is the shortest path through a race circuit to achieve the best lap-time.
Developing an optimal racing line algorithm will help the teams in Racing Compitations to compute the optimal path for new tracks, improving the vehicle’s overall performance. 

Sloution consist of 2 setps

1. Racing line generation 
    -> Shortest path
    -> Minimum curvature path
2. Velocity Profile generation

# Racing line generation

1. The planning algorithm should generate a raceline that achieve the best possible lap time by generating the smooth racing path while keeping the computation time as minimum as possible.
2. Finding the optimal raceline is not an easy problem as the shortest path does not offer minimum lap time for curved race tracks as the speed is reduced considerably at turns. 
3. For the racetrack curves, the path with minimum curvature offers more speed. Hence, the shortest path reduces lap time by space minimization but results in lower speed at turns while the minimum curvature path reduces lap time by offering higher speed at turns but results in longer path. 
4. Therefore, the optimal racing path is the compromise between the shortest path and the minimum curvature path.

# formulas need to be considered

![curr](https://user-images.githubusercontent.com/120084118/206442420-139bf9d6-b456-49f5-abd0-6c3e5120140d.png)


# Shortest path & Min curvature path

![shortest](https://user-images.githubusercontent.com/120084118/206439859-28a498a6-6e4f-434b-ab39-962d96e7541d.png)

# Vlocity Profile generation

The profiles are generated to attain critical velocity at the corners through max braking and acceleration.
Corners are identified to local maxima points for the curvature of the trajectory.

1. We take data from generated trajectory data from the minimum curvature path function or shortest path generation function.
2. Calcuate distance and curvature for each point of data.
3. Next, develop acceleration and deceleration profiles based on given constraints of curvatre at each points.
4. Then, calculate the Lap time.

# formulas need to be considered

![vel](https://user-images.githubusercontent.com/120084118/206442479-3008560e-0001-4dcd-9481-1d609eb50263.png)

# Analysis

Here we describe the analysis of minimum curvature path and it’s velocity profile generation

# Sliverstone
# Analysing the effects of varying the number of Splines on Lap-Time

| No. Of Splines| Lap - Time |
| ------------- | ------------- |
| 500  | 93.71 sec |
| 1000  | 95.88 sec  |
| 1500  | 97.00 sec  |
| 2000  | 96.74 sec  |
| 2500  | 96.95 sec  |


<figure>
 300 Splines
<img src="https://user-images.githubusercontent.com/120084118/206453513-af842aba-f4c7-4992-a0ac-5200898abffc.jpg" width="400 "title="300 Splines"/> 
 500 Splines
<img src="https://user-images.githubusercontent.com/120084118/206453538-e515c3b8-1eda-4f8e-9ded-1877a867cb20.jpg" width="400""title="500 Splines"/>
 1000 Splines
<img src="https://user-images.githubusercontent.com/120084118/206453560-8a007c09-3af6-4e33-809a-c00e52969f7d.jpg" width="400""title="1000 Splines"/> 
 2500 Splines
<img src="https://user-images.githubusercontent.com/120084118/206453588-36b81613-99cb-482b-bc8a-aa7faff13ce5.jpg" width="400""title="2500 Splines"/>
 5000 Splines
<img src="https://user-images.githubusercontent.com/120084118/206453602-61475d1d-2d9c-4540-9e7d-fcd533cde679.jpg" width="400""title="5000 Splines"/>
</figure>

the above analysis shows that It is evident from above analysis that increase in number of splines increases lap-time and vice-versa. Therefore we have used 1500 splines to get the desired optimal path. The number ofSplines significantly effects the lap time of the vehicle, if the number of splines are too less the distance between to consecutive splines increases, for which the path generated by the algorithm consists more of straight lines, whereas if the number of Splines are too many then the path generated shifts and follows the reference path. So it is very important to consider the optimal number of splines


# Conclusion
This study presents the path planning for Race cars using the minimum curvature path algorithm. With this algorithm, the race cars can efficiently cover the track in shortest time and hence optimized path can be generated for any given route using the minimum curvature technique. The results are analyzed for three different tracks for different number of splines and are found to be satisfactory.

